\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{common}

\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{bbold}
\RequirePackage{xparse}


	%text
	\newcommand*{\cardinalST}{\mathrm{st}}
	\newcommand*{\cardinalND}{\mathrm{nd}}
	\newcommand*{\cardinalRD}{\mathrm{rd}}
	\newcommand*{\cardinalTH}{\mathrm{th}}
	\newcommand*{\suchThat}{\mathrm{s.t.}}

	%intervals
	\newcommand*{\clcl}[2]{\ensuremath{\, \left[ #1, #2 \right] \,}}
	\newcommand*{\clop}[2]{\ensuremath{\, \left[ #1, #2 \right[ \,}}
	\newcommand*{\opcl}[2]{\ensuremath{\, \left] #1, #2 \right] \,}}
	\newcommand*{\opop}[2]{\ensuremath{\, \left] #1, #2 \right[ \,}}
	\newcommand*{\pair}[2]{\ensuremath{\, \left( #1, #2 \right) \,}}

	% \makeatletter
	% \def\set{\@ifnextchar[{\@dummySet}{\@normalSet}} 
	% \def\@dummySet[#1]#2 {\left\{#1 \, \middle| \, #2\right\}}
	% \def\@normalSet#1{\left\{#1 \right\}}
	% \makeatother

	\NewDocumentCommand{\set}{om}{%
  \IfNoValueTF{#1}
    {\ensuremath{\left\{#2 \right\}}}
    {\ensuremath{\left\{#1 \, \middle| \, #2\right\}}}%
}
	
	
	%functions
	\newcommand*{\func}[2]{\ensuremath{#1 \! \left( #2 \right) }}
	\newcommand*{\squareFunc}[2]{\ensuremath{#1 \! \left[ #2 \right] }}
	\newcommand*{\operatorFunc}[2]{\ensuremath{\left( #1  \right) \! \left( #2 \right) }}


	
	%\newcommand{\subFunc}[3]{\ensuremath{#1_{#2} \! \left( #3 \right) }}
	%\newcommand{\supFunc}[3]{\ensuremath{#1^{#2} \! \left( #3 \right) }}
	%\newcommand{\subsupFunc}[3]{\ensuremath{#1^{#2}_{#3} \! \left( #4 \right) }}
	
	
	\newcommand*{\abs}[1][\; \cdot \;]{\ensuremath{\left\lvert #1 \right\rvert}}
	\newcommand*{\norm}[1][\; \cdot \;]{\ensuremath{\left\lVert #1 \right\rVert}}
	
	\DeclarePairedDelimiter{\ceilp}{\lceil}{\rceil}
	\DeclarePairedDelimiter{\floorp}{\lfloor}{\rfloor}
	\DeclarePairedDelimiter{\angleBracketp}{\langle}{\rangle}
	\newcommand{\floor}[1]{\ensuremath{\floorp*{#1}}}
	\newcommand{\ceil}[1]{\ensuremath{\ceilp*{#1}}}
	\newcommand{\angleBracket}[1]{\ensuremath{\angleBracketp*{#1}}}
	
	%operators
	\DeclareMathOperator{\diam}{diam}
	\DeclareMathOperator{\interior}{int}
	\DeclareMathOperator{\closure}{cl}
	\DeclareMathOperator*{\vspan}{span}
	\DeclareMathOperator*{\Image}{Im}

	%probability
	\newcommand*{\Probability}{\ensuremath{\mathbb{P}}}
	\newcommand*{\prob}[1]{\ensuremath{\func{\Probability}{#1}}}
	\newcommand*{\condProb}[2] {\ensuremath{\prob{#1 \; \middle| \; #2}}}
	\newcommand*{\Expected}{\ensuremath{\mathbb{E}}}
	\DeclareMathOperator*{\Variance}{Var}
	\DeclareMathOperator*{\Covariance}{Cov}
	\newcommand*{\variance}[1]{\ensuremath{\squareFunc{\Variance}{#1}}}
	\newcommand*{\covariance}[1]{\ensuremath{\squareFunc{\Covariance}{#1}}}
	\newcommand*{\expected}[1]{\ensuremath{\squareFunc{\Expected}{#1}}}
	\newcommand*{\condExp}[2]{\ensuremath{\expected}{#1 \; \middle| \; #2}}
	\newcommand*{\condCov}[2]{\ensuremath{\covariance}{#1 \; \middle| \; #2}}
	\newcommand*{\condVar}[2]{\ensuremath{\variance}{#1 \; \middle| \; #2}}
	\DeclareMathOperator*{\StandardDeviation}{sd}
	\newcommand*{\stdev}[1]{\ensuremath{\func{sd}{#1}}}
	\DeclareMathOperator*{\Bernoulli}{Bernoulli}
	\DeclareMathOperator*{\Binomial}{Binomial}
	\DeclareMathOperator*{\Poisson}{Poisson}
	\DeclareMathOperator*{\Pascal}{Pascal}
	\DeclareMathOperator*{\NormalDist}{N}
	\DeclareMathOperator{\betaDist}{B}
	\DeclareMathOperator*{\HyperGeometric}{Hypergeometric}

	%geometry
	\newcommand*{\dang}{\measuredangle} %% Directed angle
	\newcommand*{\ray}[1]{\overrightarrow{#1}} 
	\newcommand*{\seg}[1]{\overline{#1}}
	\newcommand*{\arc}[1]{\wideparen{#1}}
	
	%sets
	\newcommand*{\Reals}{\ensuremath{\mathbb{R}}}
	\newcommand*{\Rationals}{\ensuremath{\mathbb{Q}}}
	\newcommand*{\Irrationals}{\ensuremath{\mathbb{Q}^c}}
	\newcommand*{\Naturals}{\ensuremath{\mathbb{N}}}
	\newcommand*{\Integers}{\ensuremath{\mathbb{Z}}}
	\newcommand*{\Complex}{\ensuremath{\mathbb{C}}}
	
	
	%algebra
	\newcommand*{\Field}{\ensuremath{\mathbb{F}}}
	\newcommand*{\DSZero}{\ensuremath{\mathbb{0}}}
	\newcommand*{\DSOne}{\ensuremath{\mathbb{1}}}
	\newcommand*{\FieldPolynomial}[2][K]{\ensuremath{\squareFunc{#1}{#2}}}
	\newcommand*{\FieldFormalSeries}[2][K]{\ensuremath{#1 \! \left[ \left[ #2 \right] \right] }}
	
	
	%analysis
	\newcommand*{\metricSpace}[2]{\ensuremath{\left(#1,#2\right)}}
	\newcommand*{\normedSpace}[2]{\ensuremath{\left(#1,#2\right)}}
	\newcommand*{\CalB}{\ensuremath{\mathcal{B}}}
	\newcommand*{\CalL}{\ensuremath{\mathcal{L}}}
	\newcommand*{\CalC}{\ensuremath{\mathcal{C}}}
	\DeclareMathOperator*{\GL}{GL}
	\makeatletter
	\DeclareMathOperator*{\@DiffOperator}{D}
	\DeclareMathOperator*{\@diffOperator}{d}
	\newcommand{\DiffOperator}{\ensuremath{\@DiffOperator}\!}
	\newcommand{\diffOperator}{\ensuremath{\@diffOperator}\!}
	\newcommand{\ODiff}[2]{\ensuremath{\frac{\diffOperator  #1}{\diffOperator #2}}}
	\newcommand{\PDiffOperator}{\ensuremath{\partial}}
	\newcommand{\PDiff}[2]{\ensuremath{\frac{\PDiffOperator  #1}{\PDiffOperator #2}}}
	\makeatother
	\DeclareMathOperator*{\argmax}{argmax}
	\DeclareMathOperator*{\argmin}{argmin}
	


	%linear algebra
	\newcommand*{\Matrices}[3][\Field]{\ensuremath{\func{\mathcal{M}_{#2 \times #3}}{#1}}}
	\newcommand*{\SquareMatrices}[2][\Field]{\ensuremath{\func{\mathcal{M}_{#2}}{#1}}}
	\newcommand*{\IdentityMatrix}{\mathbb{I}}

	\newenvironment{amatrix}[2]{
		\left[\begin{array}{@{}*{#1}{c}|!{\hspace{1ex} }@{}*{#2}{c}}
			}{%
		\end{array}\right]
		}
	%}	
  	\DeclareMathOperator*{\colSpace}{colsp}
  	\DeclareMathOperator*{\rowSpace}{rowsp}
	\DeclareMathOperator*{\rank}{rank}
	\DeclareMathOperator*{\nullity}{null}
	\DeclareMathOperator*{\image}{im}
	\DeclareMathOperator*{\eigenSpace}{eigenspace}
	\DeclareMathOperator*{\algmult}{algmult}
	\DeclareMathOperator*{\trace}{tr}

	  

	
	%logic
	\newcommand*{\xor}{\ensuremath{\oplus}}


	%algorithms
	\newcommand{\bigO}[1]{\ensuremath{\func{O}{#1}}}
	\newcommand{\bigOmega}[1]{\ensuremath{\func{\Omega}{#1}}}
	\newcommand{\bigTheta}[1]{\ensuremath{\func{\Theta}{#1}}}
	\newcommand{\littleO}[1]{\ensuremath{\func{o}{#1}}}
	\newcommand{\littleOmega}[1]{\ensuremath{\func{\omega}{#1}}}


	%Machine learing 
	\newcommand*{\CalH}{\ensuremath{\mathcal{H}}}
	\newcommand*{\CalE}{\ensuremath{\mathcal{E}}}
	\newcommand*{\CalD}{\ensuremath{\mathcal{D}}}
	\DeclareMathOperator*{\sign}{sign}